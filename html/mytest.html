<!DOCTYPE html>
<html>

<head>
    <title>GitHub Image Gallery</title>
</head>

<body>
    <div id="image-gallery"></div>

    <script>
        const username = "mowuqq";
        const repoName = "myhtml";
        const folderPath = "html/pic";

        const imageGallery = document.getElementById("image-gallery");

        function fetchImages() {
            fetch(`https://api.github.com/repos/${username}/${repoName}/contents/${folderPath}`)
                .then(response => response.json())
                .then(data => {
                    const images = data.filter(item => item.type === "file" && /\.(jpe?g|png|gif)$/i.test(item.name));
                    images.forEach(image => {
                        const imageElement = document.createElement("img");
                        imageElement.src = image.download_url;
                        imageGallery.appendChild(imageElement);
                    });
                })
                .catch(error => console.error(error));
        }

        let currentIndex = 0;

        function showNextImage() {
            const images = imageGallery.querySelectorAll("img");
            const previousIndex = currentIndex;
            currentIndex = (currentIndex + 1) % images.length;
            images[previousIndex].style.display = "none";
            images[currentIndex].style.display = "block";
            setTimeout(showNextImage, 0); // Replace 3000 with your desired interval in milliseconds
        }

        fetchImages();
        showNextImage();
    </script>
</body>

</html>
