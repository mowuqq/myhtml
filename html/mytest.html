<!DOCTYPE html>
<html>

<head>
    <title>动态加载图片</title>
    <style>
        .center {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
    </style>
</head>

<body>
    <div class="center">
        <img id="image" src="" alt="your-image-alt-text">
    </div>
    <script>
        const folderPath = 'https://raw.githubusercontent.com/mowuqq/myhtml/master/html/pic/';
        const imageExtensions = ['.jpg', '.jpeg', '.png', '.gif'];
        let images = [];

        function getImagesFromFolder(folderPath) {
            return new Promise((resolve, reject) => {
                const xhr = new XMLHttpRequest();
                xhr.open('GET', folderPath);
                xhr.onload = function () {
                    if (this.status === 200) {
                        const responseDocument = new DOMParser().parseFromString(this.responseText, 'text/html');
                        const anchors = responseDocument.querySelectorAll('a');
                        for (let i = 0; i < anchors.length; i++) {
                            const href = anchors[i].getAttribute('href');
                            const extension = href.substr(href.lastIndexOf('.')).toLowerCase();
                            if (imageExtensions.includes(extension)) {
                                images.push(href);
                            }
                        }
                        resolve(images);
                    } else {
                        reject(new Error('Unable to retrieve images.'));
                    }
                }
                xhr.send();
            });
        }

        async function showNextImage() {
            try {
                if (images.length === 0) {
                    images = await getImagesFromFolder(folderPath);
                }
                const image = document.getElementById('image');
                const imageSrc = images.shift();
                image.src = imageSrc;
                images.push(imageSrc);
            } catch (error) {
                console.error(error);
            } finally {
                setTimeout(showNextImage, 3000); // replace 3000 with your desired interval in milliseconds
            }
        }

        showNextImage();
    </script>
</body>

</html>
